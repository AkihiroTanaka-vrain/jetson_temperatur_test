import os
from yacs.config import CfgNode as CN

_C = CN()

_C.MODEL = CN()
_C.MODEL.DEBUG = False
# _C.MODEL.PRETRAINED = False
_C.MODEL.BASE_MODEL = "yolact"
_C.MODEL.BACK_BONE = "resnet50_backbone"

_C.DATASET = CN()
_C.DATASET.LOAD_WEIGHTS = ""
_C.DATASET.TRAIN_JSON = ""
_C.DATASET.VAL_JSON = ""
# _C.DATASET.TEST_JSON = ""
_C.DATASET.TRAIN_IMAGES = ""
_C.DATASET.VAL_IMAGES = ""
_C.DATASET.TRAIN_BATCH_SIZE = 8
# TESTVAL_BATCH_SIZE is not using
_C.DATASET.TESTVAL_BATCH_SIZE = 8
_C.DATASET.NUM_WORKERS = 0
_C.DATASET.DROP_LAST = False
_C.DATASET.CLASS_NAMES = []

_C.SOLVER = CN()
_C.SOLVER.NUM_EPOCHS = 500
_C.SOLVER.NUM_GPUS = 1
_C.SOLVER.USE_GPU = True
_C.SOLVER.LR = 1e-4
_C.SOLVER.MOMENTUM = 0.9
_C.SOLVER.DECAY = 5e-4
_C.SOLVER.GAMMA = 0.1
_C.SOLVER.CHECKPOINT_PERIOD = 5

_C.INPUT = CN()
_C.INPUT.FLAG = CN()

_C.INPUT.FLAG.PHOTOMETRICDISTORT = True
_C.INPUT.FLAG.PAD = True
_C.INPUT.FLAG.CROP = True
_C.INPUT.FLAG.RHF = True
_C.INPUT.FLAG.RVF = False
_C.INPUT.FLAG.ROT90 = False

_C.INPUT.FLAG.CN = True

# MEAN and STD are in RGB order
_C.INPUT.MEAN = [103.94, 116.78, 123.68]
_C.INPUT.STD = [103.94, 116.78, 123.68]


_C.OUTPUT_DIR = os.getcwd()
_C.USE_ORIGINAL_COCO = False
_C.TRAIN_VAL_SPLIT_RATE = 0.7

_C.RESIZE_WIDTH = 550
_C.RESIZE_HEIGHT = 550
